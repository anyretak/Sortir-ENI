{% extends 'base.html.twig' %}

{% block title %}Modify Profile{% endblock %}

{% block content %}

    <div class="app-user-profile">

        {% for flashError in app.flashes('verify_email_error') %}
            <div class="alert alert-danger" role="alert">{{ flashError }}</div>
        {% endfor %}

        {% for message in app.flashes('notice') %}
            <div class="flash-notice">
                {{ message }}
            </div>
        {% endfor %}

        {% for label, messages in app.flashes %}
            {% for message in messages %}
                <div class="alert alert-{{ label }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endfor %}


        <h3>My Profile</h3>
    </div>
    <div class="wrapper">
        <div class="app-modify-profile">
            <img class="app-profile app-modify-profile"
                 src="/sortir-eni/public{{ vich_uploader_asset(user, 'imageFile') }}"
                 alt="{{ user.username }}"/>
            {{ form_start(registrationForm, {'attr' : { 'class' : 'app-register' }}) }}
            <div>
                {{ form_errors(registrationForm.username) }} {{ form_errors(registrationForm.password.first) }}
            </div>
            <div></div>
            {{ form_label(registrationForm.username) }} {{ form_widget(registrationForm.username) }}
            {{ form_label(registrationForm.name) }}  {{ form_widget(registrationForm.name) }}
            {{ form_label(registrationForm.lastName) }}  {{ form_widget(registrationForm.lastName) }}
            {{ form_label(registrationForm.phone) }}  {{ form_widget(registrationForm.phone) }}
            {{ form_label(registrationForm.email) }}  {{ form_widget(registrationForm.email) }}
            {{ form_label(registrationForm.password.first) }} {{ form_widget(registrationForm.password.first) }}
            {{ form_label(registrationForm.password.second) }} {{ form_widget(registrationForm.password.second) }}
            {{ form_label(registrationForm.campus) }} {{ form_widget(registrationForm.campus) }}
            {{ form_label(registrationForm.imageFile) }} {{ form_widget(registrationForm.imageFile) }}
            <button type="submit">Modify</button>
            <a href="{{ path ('home') }}">
                <button type="button">Cancel</button>
            </a>
            {{ form_end(registrationForm) }}
        </div>
    </div>
{% endblock %}
